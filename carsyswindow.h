#ifndef CARSYSWINDOW_H
#define CARSYSWINDOW_H

#include <QMainWindow>
#include "logWindow/loginfunc.h"
#include "modbushandle.h"
#include "QProcess"
#include "QTimer"

namespace Ui {
class CarsysWindow;
}

class CarsysWindow : public QMainWindow
{
    Q_OBJECT

//================================================================================================================================
public:/*****************************************************公有***构造和析构函数***************************************************/
//================================================================================================================================
    explicit CarsysWindow(QWidget *parent = 0);
    ~CarsysWindow();

//================================================================================================================================
public:/*****************************************************公有***功能函数函数***************************************************/
//================================================================================================================================
/*
 *函数名称: getUserInf
 *函数功能: 读取从登陆界面传入的信息
 *函数参数: infor:用户数据变量
 *函数返回值: 无
*/
      void getUserInf(UserData infor);
//================================================================================================================================
/*
 *函数名称: initCarSysWindow()
 *函数功能: 初始化CarSysWindows上的组件
 *函数参数: 无
 *函数返回值: 无
*/
      void initCarSysWindow();
//================================================================================================================================
/*
 *函数名称: creatDataCheck
 *函数功能: 每隔msec检查数据串口是否正确
 *函数参数: msec:传入的毫秒数
 *函数返回值: 无
*/
      void creatDataCheck(int msec);
//================================================================================================================================
/*
 *函数名称: stopDataTimer
 *函数功能: 停止数据检查定时器
 *函数参数: 无
 *函数返回值: 无
*/
      void stopDataTimer();
//================================================================================================================================
private slots:/********************************私有************普通槽函数**********************************************************/
//================================================================================================================================
/*
 *函数名称: DataCheck
 *函数功能: 检查数据串口是否正确，做出相应的处理
 *函数参数: 无
 *函数返回值: 无
*/
      void DataCheck();
//================================================================================================================================
/*
 *函数名称: displayTime
 *函数功能: 显示当前时间
 *函数参数: 无
 *函数返回值: 无
*/
      void displayTime();
//================================================================================================================================
private slots:/********************************私有************动作按钮槽函数**********************************************************/
//================================================================================================================================
/*
 *函数名称: on_actionfull_screen_triggered
 *函数功能: 全屏按钮
 *函数参数: 无
 *函数返回值:	无
*/
      void on_actionfull_screen_triggered();
//================================================================================================================================
/*
 *函数名称: on_actionout_full_screen_triggered
 *函数功能: 退出全屏按钮
 *函数参数: 无
 *函数返回值: 无
*/
      void on_actionout_full_screen_triggered();
//================================================================================================================================
/*
 *函数名称: on_actionexit_triggered
 *函数功能: 退出全屏按钮
 *函数参数: 无
 *函数返回值: 无
*/
      void on_actionexit_triggered();

private:
    Ui::CarsysWindow *ui;			/**********|  UI  |************/
    UserData userInf;				/**********| 用户数据 |************/
    bool Datalock;				/**********| 数据锁 |******************************处理数据时上锁，上锁时不能接收数据****/
    modbusHandle*  moddb;			/**********| ModBus数据处理接口 |************/
    QProcess * myprocess;			/**********| 进程变量 |************/
    QTimer *timerData;             		 /**********| 计时器 |*******************************用于处理串口***/
    QTimer *timerNow;				//当前时间计时器
};

#endif // CARSYSWINDOW_H

/**********| |************/
//7
//================================================================================================================================
/*
 *函数名称:
 *函数功能:
 *函数参数:
 *函数返回值:
*/

//3
//================================================================================================================================
//private slots:/********************************私有************动作按钮函数**********************************************************/
//================================================================================================================================
